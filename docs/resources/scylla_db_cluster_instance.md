---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vtb_scylla_db_cluster_instance Resource - terraform-provider-vtb"
subcategory: ""
description: |-
  
---

# vtb_scylla_db_cluster_instance (Resource)



## Example Usage

```terraform
data "vtb_scylla_db_cluster_image_data" "img" {
  distribution = "astra"
  os_version   = "1.7"
}

data "vtb_flavor_data" "c2m8" {
  cores  = 2
  memory = 8
}

data "vtb_core_data" "test" {
  platform    = "OpenStack"
  domain      = "test.vtb.ru"
  net_segment = "test-srv-synt"
  zone        = "msk-north"
}

resource "vtb_scylla_db_cluster_instance" "scylla_test" {
  core              = data.vtb_core_data.test-srv-synt
  flavor            = data.vtb_flavor_data.c2m8
  image             = data.vtb_scylla_db_cluster_image_data.img
  financial_project = "VTB.Cloud"
  label             = "ScyllaDB-TF-import2"
  scylladb_version = "5.4.4"
  extra_mounts_log = {
    "/app/scylla/logs" = {
      size = 30
    },
  }
  extra_mounts_data = {
    "/app/scylla/data" = {
      size = 100
    },
  }
  db_names = ["db1","db2"]
  db_users = {
    "user3" = {
      dbms_role = "user"
      user_password = "Q4ovbsrUudsMXfsmQ8.yhpzLpDnS0lZ91IFXn6bXCzS.02mQY16Ix4"
    }
    "admin1" = {
      dbms_role = "admin"
      user_password = "Q4ovbsrUudsMXfsmQ8.yhpzLpDnS0lZ91IFXn6bXCzS.02mQY16Ix5"
    }
  }
  db_permissions = [
    "user3:db1",
    "admin1:db2"
  ]
  scylla_cluster_configuration = {
    dc1 = 1
    dc2 = 0
    dc3 = 0
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `core` (Attributes) Основные параметры для виртуальных машин в заказе. (see [below for nested schema](#nestedatt--core))
- `extra_mounts_data` (Attributes Map) Точка монтирования /app/scylla/data (see [below for nested schema](#nestedatt--extra_mounts_data))
- `extra_mounts_log` (Attributes Map) Точка монтирования /app/scylla/logs (see [below for nested schema](#nestedatt--extra_mounts_log))
- `financial_project` (String) Источник финансирования.
- `flavor` (Attributes) Кол-во CPU/RAM для виртуальных машин. (see [below for nested schema](#nestedatt--flavor))
- `image` (Attributes) Тип вычислительного экземпляра. (see [below for nested schema](#nestedatt--image))
- `label` (String) Метка заказа.
- `scylla_cluster_configuration` (Attributes) Конфигурация кластера (see [below for nested schema](#nestedatt--scylla_cluster_configuration))
- `scylladb_version` (String) Версия ScyllaDB

### Optional

- `access` (Map of Set of String) Словарь,где ключом является роль, а значением список групп, которые предоставляют доступ для входа в Active Directory
- `db_names` (Set of String) Базы данных
- `db_permissions` (Set of String) Права доступа пользователю БД
- `db_users` (Attributes Map) Пользователи (see [below for nested schema](#nestedatt--db_users))
- `lifetime` (Number) Время жизни заказа в днях (2, 7, 14, 30)

### Read-Only

- `item_id` (String) Идентификатор сущностей ВМ, известен после создания ВМ.
- `order_id` (String) Идентификатор заказа. Становиться известен после создания заказа.

<a id="nestedatt--core"></a>
### Nested Schema for `core`

Required:

- `domain` (String) Название сетевого сегмента для заказа. Пример: dev-srv-app
- `net_segment` (String) Network segment name of order
- `platform` (String) Название платформы заказа Пример: OpenStack
- `zone` (String) Зона доступности, где будет размещен заказ. Пример: msk-north


<a id="nestedatt--extra_mounts_data"></a>
### Nested Schema for `extra_mounts_data`

Required:

- `size` (Number) Размер точки монтирования (в ГБ.)

Read-Only:

- `file_system` (String) Тип файловой системы.


<a id="nestedatt--extra_mounts_log"></a>
### Nested Schema for `extra_mounts_log`

Required:

- `size` (Number) Размер точки монтирования (в ГБ.)

Read-Only:

- `file_system` (String) Тип файловой системы.


<a id="nestedatt--flavor"></a>
### Nested Schema for `flavor`

Required:

- `cores` (Number) Количество ядер ЦПУ.
- `memory` (Number) Количество оперативной памяти RAM (указывается в ГБ).
- `name` (String) Кодовое название конфигурации.
- `uuid` (String) Уникальный идентификатор на странице справочников.


<a id="nestedatt--image"></a>
### Nested Schema for `image`

Required:

- `ad_integration` (Boolean) Флаг для интеграции вычислительного экземпляра с Active Directory
- `distribution` (String) Название дистрибутива (RHEL or Astra)
- `on_support` (Boolean) Флаг означает, что продукт будет поддерживаться группой поддержки
- `os_version` (String) Версия образа дистрибутива
- `product_id` (String) Идентификатор продукта вычислительного экземпляра


<a id="nestedatt--scylla_cluster_configuration"></a>
### Nested Schema for `scylla_cluster_configuration`

Required:

- `dc1` (Number) Количество нод в виртуальном ЦОД 1
- `dc2` (Number) Количество нод в виртуальном ЦОД 2
- `dc3` (Number) Количество нод в виртуальном ЦОД 3


<a id="nestedatt--db_users"></a>
### Nested Schema for `db_users`

Required:

- `dbms_role` (String) Роль пользователя БД.
- `user_password` (String, Sensitive) Пароль пользователя БД


