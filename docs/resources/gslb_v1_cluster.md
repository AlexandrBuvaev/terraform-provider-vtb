---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vtb_gslb_v1_cluster Resource - terraform-provider-vtb"
subcategory: ""
description: |-
  
---

# vtb_gslb_v1_cluster (Resource)



## Example Usage

```terraform
data "vtb_core_data" "dev" {
  platform    = "OpenStack"
  domain      = "corp.dev.vtb"
  zone        = "msk-north"
  net_segment = "dev-srv-app"
}

data "vtb_flavor_data" "gslb_v1_flavor" {
  cores  = 2
  memory = 4
}

data "vtb_gslb_v1_cluster_image_data" "gslb_v1_image" {
  os_version      = "1.7"
  distribution    = "astra"
  product_version = "gslb_cluster_v1_5"
}

data "vtb_cluster_layout" "gslb_v1_layout" {
  layout = "gslb-4"
}

resource "vtb_gslb_v1_cluster" "gslb_cluster_blue_dev" {
  label             = "GSLB v1.5 tf"
  core              = data.vtb_core_data.dev
  layout            = data.vtb_cluster_layout.gslb_v1_layout.id
  flavor            = data.vtb_flavor_data.gslb_v1_flavor
  image             = data.vtb_gslb_v1_cluster_image_data.gslb_v1_image
  financial_project = "VTB.Cloud"
  extra_mounts = {
    "/app" = {
      size = 60
    }
  }
  access = {
    "user" = ["cloud-soub-xxx"]
  }

  desired_version = "latest"
  dns_zone        = "test-tofu"
  api_password    = "xxxxxxxxxxx"
  nginx_password  = "xxxxxxxxxxx"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access` (Map of Set of String) Словарь, где ключом является роль, а значением список групп, которые предоставляют доступ для входа в Active Directory
- `api_password` (String, Sensitive) API Password. Должен быть длиной от 6 до 128 символов и содержать следующие значения: 1 буквенное значение в нижнем регистре, 1 буквенное значение в верхнем, 1 число, и 1 спецальный знак (!@#$%^&*)
- `core` (Attributes) Основные параметры для вирутальных машин в заказе (see [below for nested schema](#nestedatt--core))
- `desired_version` (String) Версия инсталяции
- `dns_zone` (String) Префикс доменной зоны
- `extra_mounts` (Attributes Map) Точки монтирования (see [below for nested schema](#nestedatt--extra_mounts))
- `financial_project` (String) Источник финансирования
- `flavor` (Attributes) Кол-во CPU/RAM для вирутальных машин в заказе (see [below for nested schema](#nestedatt--flavor))
- `image` (Attributes) Образ вычислителього ресусра (see [below for nested schema](#nestedatt--image))
- `label` (String) Метка заказа
- `layout` (String) Идентификатор конфигурации из справочника `geo_distribution`
- `nginx_password` (String, Sensitive) Nginx Password. Должен быть длиной от 6 до 128 символов и содержать следующие значения: 1 буквенное значение в нижнем регистре, 1 буквенное значение в верхнем, 1 число, и 1 спецальный знак (!@#$%^&*)

### Optional

- `bgpaas` (Boolean)
- `gslb_hosts` (Attributes Set) Хосты GSLB, с указанием статуса простановки в ММ (see [below for nested schema](#nestedatt--gslb_hosts))
- `lifetime` (Number) Время жизни заказа в днях (2, 7, 14, 30)

### Read-Only

- `item_id` (String) Идентификатор сущностей ВМ, известен после создания заказа
- `order_id` (String) Идентификатор заказа, известен после создания заказа

<a id="nestedatt--core"></a>
### Nested Schema for `core`

Required:

- `domain` (String) Название сетевого сегмента для заказа. Пример: dev-srv-app
- `net_segment` (String) Network segment name of order
- `platform` (String) Название платформы заказа Пример: OpenStack
- `zone` (String) Зона доступности, где будет размещен заказ. Пример: msk-north


<a id="nestedatt--extra_mounts"></a>
### Nested Schema for `extra_mounts`

Required:

- `size` (Number) Размер точки монтирования в ГБ

Read-Only:

- `file_system` (String) Тип файловой системы


<a id="nestedatt--flavor"></a>
### Nested Schema for `flavor`

Required:

- `cores` (Number) Количество ядер ЦПУ.
- `memory` (Number) Количество оперативной памяти RAM (указывается в ГБ).
- `name` (String) Кодовое название конфигурации.
- `uuid` (String) Уникальный идентификатор на странице справочников.


<a id="nestedatt--image"></a>
### Nested Schema for `image`

Required:

- `distribution` (String) Название дистрибутива (RHEL or Astra).
- `geo_distribution` (Boolean) Флаг для использования геораспределения узлов кластера
- `on_support` (Boolean) Флаг означает, что продукт будет поддерживаться группой поддержки.
- `os_version` (String) Версия образа дистрибутива.
- `product_id` (String) Product ID из сервиса product_catalog.
- `product_version` (String) Версия продукта GSLB v1


<a id="nestedatt--gslb_hosts"></a>
### Nested Schema for `gslb_hosts`

Optional:

- `maintenance_mode` (String) Статус Maintenance Mode
- `name` (String) Hostname вирутальной машины


