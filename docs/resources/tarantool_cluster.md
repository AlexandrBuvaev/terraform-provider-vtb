---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vtb_tarantool_cluster Resource - terraform-provider-vtb"
subcategory: ""
description: |-
  Управление облачным продуктом Tarantool Data Grid/Tarantool Enterprise
---

# vtb_tarantool_cluster (Resource)

Управление облачным продуктом Tarantool Data Grid/Tarantool Enterprise

## Example Usage

```terraform
data "vtb_core_data" "test_lt" {
  platform    = "OpenStack"
  domain      = "test.vtb.ru"
  net_segment = "test-srv-perf"
  zone        = "msk-north"
}

data "vtb_tdg_image_data" "img" { // Указываем для заказа Tarantool Data Grid
  distribution = "astra"
  os_version   = "1.7"
}

data "vtb_te_image_data" "img_te" { // Указываем для заказа Tarantool Enterprise
  distribution = "astra"
  os_version   = "1.7"
}


data "vtb_cluster_layout" "tarantool_test" {
  net_segment = "test-srv-perf"
  layout      = "one_dc:tarantool:r-1:storage-24GB:x2:etcd"
}


resource "vtb_tarantool_cluster" "test" {
  lifetime          = 7
  label             = "Tarantool Data Grid v2"
  core              = data.vtb_core_data.test_lt
  image             = data.vtb_tdg_image_data.img
  financial_project = "1095 Импортозамещение инфраструктурных сервисов"
  access = {
    "superuser" = [
      "cloud-soub-tarantool-lt",
    ],
  }
  tarantool_access  = ["cloud-soub-tarantool-lt"]
  layout            = data.vtb_cluster_layout.tarantool_test.id
  tarantool_version = "2.12.1"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access` (Map of Set of String) Карта, где ключом является роль, а значением - список групп, которые предоставляют доступ для входа в Active Directory
- `core` (Attributes) Основные параметры для виртуальных машин в заказе. (see [below for nested schema](#nestedatt--core))
- `financial_project` (String) Источник финансирования
- `image` (Attributes) Образ вычислительно экземпляра (see [below for nested schema](#nestedatt--image))
- `label` (String) Метка заказа
- `layout` (String) Layout ID из справочника geo_distribution.
- `tarantool_access` (Set of String) Группы управления Tarantool
- `tarantool_version` (String) Версия Tarantool Data Grid/Tarantool Enterprise

### Optional

- `lifetime` (Number) Время жизни заказа в днях (2, 7, 30)
- `zones` (Attributes Map) Зоны кластера (see [below for nested schema](#nestedatt--zones))

### Read-Only

- `cluster_name` (String) Полное имя кластера Tarantool Data Grid/Tarantool Enterprise
- `item_id` (String) Идентификатор сущностей ВМ, известен после создания ВМ.
- `order_id` (String) Идентификатор заказа. Становится известен после создания заказа.
- `tarantool_type` (String) Тип приложения Tarantool

<a id="nestedatt--core"></a>
### Nested Schema for `core`

Required:

- `domain` (String) Название сетевого сегмента для заказа. Пример: dev-srv-app
- `net_segment` (String) Network segment name of order
- `platform` (String) Название платформы заказа Пример: OpenStack
- `zone` (String) Зона доступности, где будет размещен заказ. Пример: msk-north


<a id="nestedatt--image"></a>
### Nested Schema for `image`

Required:

- `ad_integration` (Boolean) Флаг интеграции ВМ с Active Directory
- `default_tarantool_version` (String) Версия Tarantool по умолчанию
- `distribution` (String) Название дистрибутива (RHEL или Astra)
- `geo_distribution` (Boolean) Флаг использования георезервирования
- `on_support` (Boolean) Флаг означает, что продукт будет поддерживаться группой поддержки
- `os_version` (String) Версия дистрибутива образа
- `product_id` (String) Product id для продукта Tarantool Data Grid/Tarantool Enterprise


<a id="nestedatt--zones"></a>
### Nested Schema for `zones`

Required:

- `running_instances` (Set of String) Включенные инстансы внутри зоны кластера
- `stopped_instances` (Set of String) Выключенные инстансы внутри зоны кластера

## Import

Import is supported using the following syntax:

```shell
tofu import vtb_tarantool_cluster.test <order_id>
```
