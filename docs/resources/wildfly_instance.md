---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vtb_wildfly_instance Resource - terraform-provider-vtb"
subcategory: ""
description: |-
  Управление облачным продуктом Wildfly Astra.
---

# vtb_wildfly_instance (Resource)

Управление облачным продуктом Wildfly Astra.

## Example Usage

```terraform
data "vtb_core_data" "dev" {
  platform    = "OpenStack"
  domain      = "corp.dev.vtb"
  net_segment = "dev-srv-app"
  zone        = "msk-north"
}

data "vtb_flavor_data" "c2m4" {
  cores  = 2
  memory = 4
}

data "vtb_wildfly_image_data" "img" {
  distribution = "astra"
  os_version   = "1.7"
}

resource "vtb_wildfly_instance" "test" {
  lifetime = 2
  label    = "TerraformWildfly"
  core     = data.vtb_core_data.dev
  flavor   = data.vtb_flavor_data.c2m4
  image    = data.vtb_wildfly_image_data.img
  financial_project = "VTB.Cloud"
  extra_mounts = {
    "/app/app" = {
      size = 60
    },
    "/app/logs" = {
      size = 20
    }
  }
  access = {
    "superuser" = [
      "cloud-soub-chumakovas",
    ],
  }
  wildfly_access = {
    "Operator" = [
      "cloud-soub-chumakovas",
    ],
  }
  wildfly_version = "26.1.3.Final"
  java_version    = "11"
  service_status  = "on"
  standalone_type = "standard"
  cert_alt_names = [
    "d5soub-wfc007lk.corp.dev.vtb",
    "d5soub-wfc009lk.corp.dev.vtb",
  ]
  client_cert = true
  mm_mode_end_date = "2025-03-18 21:00"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access` (Map of Set of String) Карта, где ключом является роль, а значением - список групп, который предоставит доступ для входа в Active Directory
- `core` (Attributes) Основные параметры для вирутальных машин в заказе. (see [below for nested schema](#nestedatt--core))
- `extra_mounts` (Attributes Map) Дополнительные точки монтирования для ВМ. (see [below for nested schema](#nestedatt--extra_mounts))
- `financial_project` (String) Источник финансирования.
- `flavor` (Attributes) Кол-во CPU/RAM для виртуальных машин. (see [below for nested schema](#nestedatt--flavor))
- `image` (Attributes) Тип вычислительного экземпляра. (see [below for nested schema](#nestedatt--image))
- `java_version` (String) Версия Java
- `label` (String) Метка заказа.
- `service_status` (String) Статус обслуживания
- `standalone_type` (String) Конфигурация файла stanadalone.xml type (standard, full)
- `wildfly_access` (Map of Set of String) Выберите роли для групп разработчиков
- `wildfly_version` (String) Версия Wildfly

### Optional

- `cert_alt_names` (List of String) Альтернативные имена в сертификате.
- `client_cert` (Boolean) Клиенсткий сертификат
- `lifetime` (Number) Время жизни заказа в днях (2, 7, 14, 30)
- `mm_mode_end_date` (String) Дата окончания ММ.

### Read-Only

- `build_version` (String) Версия релиза продукта
- `hostname` (String) Имя хоста виртуальной машины
- `item_id` (String) Идентификатор сущностей ВМ, известен после создания ВМ.
- `order_id` (String) Идентификатор заказа. Становится известен после создания заказа.

<a id="nestedatt--core"></a>
### Nested Schema for `core`

Required:

- `domain` (String) Название сетевого сегмента для заказа. Пример: dev-srv-app
- `net_segment` (String) Network segment name of order
- `platform` (String) Название платформы заказа Пример: OpenStack
- `zone` (String) Зона доступности, где будет размещен заказ. Пример: msk-north


<a id="nestedatt--extra_mounts"></a>
### Nested Schema for `extra_mounts`

Required:

- `size` (Number) Размер точки монтирования (в ГБ.)

Read-Only:

- `file_system` (String) Тип файловой системы.


<a id="nestedatt--flavor"></a>
### Nested Schema for `flavor`

Required:

- `cores` (Number) Количество ядер ЦПУ.
- `memory` (Number) Количество оперативной памяти RAM (указывается в ГБ).
- `name` (String) Кодовое название конфигурации.
- `uuid` (String) Уникальный идентификатор на странице справочников.


<a id="nestedatt--image"></a>
### Nested Schema for `image`

Required:

- `ad_integration` (Boolean) Флаг для интеграции вычислительного экземпляра с Active Directory
- `distribution` (String) Название дистрибутива (RHEL or Astra)
- `on_support` (Boolean) Флаг означает, что продукт будет поддерживаться группой поддержки
- `os_version` (String) Версия образа дистрибутива
- `product_id` (String) Идентификатор продукта вычислительного экземпляра

## Import

Import is supported using the following syntax:

```shell
tofu import vtb_wildfly_instance.test <order_id>
```
