---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vtb_etcd_instance Resource - terraform-provider-vtb"
subcategory: ""
description: |-
  Etcd Resource
---

# vtb_etcd_instance (Resource)

Etcd Resource

## Example Usage

```terraform
data "vtb_core_data" "dev" {
  platform    = "OpenStack"
  domain      = "corp.dev.vtb"
  net_segment = "dev-srv-app"
  zone        = "msk-north"
}

data "vtb_flavor_data" "c4m16" {
  cores  = 4
  memory = 16
}

data "vtb_etcd_image_data" "etcd_image" {
  distribution = "astra"
  os_version = "1.7"
  nodes_count = 3
}

resource "vtb_etcd_instance" "etcd" {
  etcd_user_name = "demo"
  etcd_user_password = "utcXltlPxEYzS17HFwLVXEWwi8IGVD"
  label = "terraform etcd develop"
  flavor = data.vtb_flavor_data.c4m16
  image = data.vtb_etcd_image_data.etcd_image
  cluster_name = "demo"
  extra_mounts = {
    "/app/etcd/" = {
      size = 50
    }
    "/app/logs/" = {
      size = 30
    }
    "/app/backup/" = {
      size = 50
    }
  }
  financial_project = "VTB.Cloud"
  core = data.vtb_core_data.dev
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_name` (String) Имя кластера
- `core` (Attributes) Основные параметры для ВМ в заказе. (see [below for nested schema](#nestedatt--core))
- `etcd_user_name` (String) Имя пользователя Etcd
- `etcd_user_password` (String, Sensitive) Пароль пользователя Etcd
- `extra_mounts` (Attributes Map) Дополнительные точки монтирования ВМ (see [below for nested schema](#nestedatt--extra_mounts))
- `financial_project` (String) Источник финансорования заказа
- `flavor` (Attributes) Кол-во CPU/RAM для ВМ. (see [below for nested schema](#nestedatt--flavor))
- `image` (Attributes) Тип вычислительного ресурса (see [below for nested schema](#nestedatt--image))
- `label` (String) Метка заказа

### Optional

- `access` (Map of Set of String) Словарь,где ключом является роль, а значением список групп, которые предоставляют доступ для входа в Active Directory
- `etcd_version` (String) Версия Etcd
- `lifetime` (Number) Время жизни заказа в днях (2, 7, 14, 30)
- `nodes_count` (Number) Количество нод в кластере

### Read-Only

- `item_id` (String) Идентификатор родительского итема заказа
- `layout` (String) Схема геораспределения
- `order_id` (String) Идентификатор заказа. Становиться известным после создания заказа.

<a id="nestedatt--core"></a>
### Nested Schema for `core`

Required:

- `domain` (String) Название сетевого сегмента для заказа. Пример: dev-srv-app
- `net_segment` (String) Network segment name of order
- `platform` (String) Название платформы заказа Пример: OpenStack
- `zone` (String) Зона доступности, где будет размещен заказ. Пример: msk-north


<a id="nestedatt--extra_mounts"></a>
### Nested Schema for `extra_mounts`

Required:

- `size` (Number) Размер точки монтированиия в ГБ

Read-Only:

- `file_system` (String) Тип файловой системы


<a id="nestedatt--flavor"></a>
### Nested Schema for `flavor`

Required:

- `cores` (Number) Количество ядер ЦПУ.
- `memory` (Number) Количество оперативной памяти RAM (указывается в ГБ).
- `name` (String) Кодовое название конфигурации.
- `uuid` (String) Уникальный идентификатор на странице справочников.


<a id="nestedatt--image"></a>
### Nested Schema for `image`

Required:

- `ad_integration` (Boolean) Флаг обозначающий, включена ли интеграция Active Directory.
- `distribution` (String) Имя дистрибутива (RHEL или Astra)
- `geo_distribution` (Boolean) Использовать геораспределение
- `on_backup` (Boolean) Использовать резервное копирование
- `on_support` (Boolean) Флаг обозначающий, осуществляется ли поддержка группой сопровождения
- `os_version` (String) Версия образа
- `product_id` (String) Идентификатор продукта в продуктовом каталоге
- `use_ssl` (Boolean) Использовать SSL

## Import

Import is supported using the following syntax:

```shell
tofu import vtb_etcd_instance.etcd <order_id>
```
