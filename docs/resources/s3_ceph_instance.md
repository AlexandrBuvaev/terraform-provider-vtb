---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vtb_s3_ceph_instance Resource - terraform-provider-vtb"
subcategory: ""
description: |-
  S3 Ceph Resource
---

# vtb_s3_ceph_instance (Resource)

S3 Ceph Resource

## Example Usage

```terraform
data "vtb_s3_ceph_image_data" "nvme" {
  storage_type = "hdd"
}

resource "vtb_s3_ceph_instance" "tenant" {
  zone              = "msk-north"
  net_segment       = "dev-srv-app"
  financial_project = var.financial_project
  label             = var.label
  image             = data.vtb_s3_ceph_image_data.nvme
  users = {
    "user-test" = {
      access_key = "ZIO2SIG50S4M7VB3QY64WSZFP"
      secret_key = "9neKkHPuV3G8gN6TMWWS6sNTadqwBaf6Pbo2UQ7Q1qFaC"
    },
    "user-test2" = {
      access_key = "ZIO2SIG504MX7VB3QY64WSSZFP"
      secret_key = "9neKkHPuV3G82N6TMWW6NTssadqwBaf6Pbo2UQ7Q1qFaC"
    }
  }
  buckets = {
    "d5-soub-bucket-test" = {
      max_size_gb = 20
      versioning  = false
    }
    "d5-soub-bucket-test2" = {
      max_size_gb = 10
      versioning  = true
    }
  }
}


variable "label" {
  default = "S3 Ceph tenant tf"
}

variable "financial_project" {
  default = "VTB.Cloud"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `financial_project` (String) Источник финансирования.
- `image` (Attributes) Тип инстанса S3 Ceph (see [below for nested schema](#nestedatt--image))
- `label` (String) Метка заказа.
- `net_segment` (String)
- `zone` (String)

### Optional

- `buckets` (Attributes Map) Список бакетов для добавления в инстанс S3 Ceph (see [below for nested schema](#nestedatt--buckets))
- `lifetime` (Number) Время жизни заказа в днях (2, 7, 14, 30)
- `users` (Attributes Map) Список пользователей для добавления в инстанс S3 Ceph (see [below for nested schema](#nestedatt--users))

### Read-Only

- `item_id` (String) Идентфикатор сущностей инстанса, известен после создания инстанса
- `mtls_endpoint` (String) mTLS Endpoint заказанного инстанса S3 Ceph
- `order_id` (String) Идентификатор заказа, известен после создания заказа
- `user_endpoint` (String) User Endpoint заказанного инстанса S3 Ceph

<a id="nestedatt--image"></a>
### Nested Schema for `image`

Required:

- `product_id` (String) ID продукта из продуктового каталога.
- `storage_type` (String) Тип хранилища S3 Ceph


<a id="nestedatt--buckets"></a>
### Nested Schema for `buckets`

Required:

- `max_size_gb` (Number) Размер бакета в гигабайтах
- `versioning` (Boolean) Версионирование


<a id="nestedatt--users"></a>
### Nested Schema for `users`

Required:

- `access_key` (String, Sensitive) Поле Access key пользователя
- `secret_key` (String, Sensitive) Поле Secret key пользователя


